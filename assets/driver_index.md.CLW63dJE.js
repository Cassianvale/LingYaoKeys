import{_ as a,c as s,o as l,ag as e}from"./chunks/framework.C48t5LJr.js";const c=JSON.parse('{"title":"驱动文档","description":"","frontmatter":{},"headers":[],"relativePath":"driver/index.md","filePath":"driver/index.md","lastUpdated":1743351716000}'),t={name:"driver/index.md"};function h(n,i,r,k,d,o){return l(),s("div",null,i[0]||(i[0]=[e(`<h1 id="驱动文档" tabindex="-1">驱动文档 <a class="header-anchor" href="#驱动文档" aria-label="Permalink to &quot;驱动文档&quot;">​</a></h1><h2 id="驱动概述" tabindex="-1">驱动概述 <a class="header-anchor" href="#驱动概述" aria-label="Permalink to &quot;驱动概述&quot;">​</a></h2><div class="caution custom-block github-alert"><p class="custom-block-title">CAUTION</p><p>⚠️<strong>特别提示：关于各种游戏的反作弊问题，类似某某游戏能不能过测之类不要来问我，不提供这种技术支持！！！</strong></p></div><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>Windows 7 未经过测试，可能导致无法预知的问题</p></div><p>灵曜按键使用内核级驱动实现按键模拟功能，通过DeviceIoControl与驱动通信。驱动支持32位/64位系统，兼容Windows 10/11</p><h3 id="驱动特性" tabindex="-1">驱动特性 <a class="header-anchor" href="#驱动特性" aria-label="Permalink to &quot;驱动特性&quot;">​</a></h3><ul><li>基于DeviceIoControl实现</li><li>支持离线运行</li><li>支持热插拔</li><li>自动状态检测与恢复</li><li>系统兼容性检查</li><li>增强的安全性和稳定性</li></ul><h3 id="系统要求" tabindex="-1">系统要求 <a class="header-anchor" href="#系统要求" aria-label="Permalink to &quot;系统要求&quot;">​</a></h3><ul><li>Windows 10/11</li><li>32位/64位系统</li><li>管理员权限</li><li>关闭安全启动（测试驱动模式）</li></ul><h3 id="驱动文件" tabindex="-1">驱动文件 <a class="header-anchor" href="#驱动文件" aria-label="Permalink to &quot;驱动文件&quot;">​</a></h3><ul><li><code>lykeysdll.dll</code>: 核心驱动动态链接库</li><li><code>lykeys.sys</code>: 内核级驱动文件</li><li><code>lykeys.cat</code>: 驱动签名文件</li><li><code>README.md</code>: 驱动接口说明</li></ul><h2 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h2><h3 id="安装驱动" tabindex="-1">安装驱动 <a class="header-anchor" href="#安装驱动" aria-label="Permalink to &quot;安装驱动&quot;">​</a></h3><ol><li>以管理员身份运行程序</li><li>程序会自动安装驱动</li><li>如果安装失败，检查系统设置</li></ol><h3 id="卸载驱动" tabindex="-1">卸载驱动 <a class="header-anchor" href="#卸载驱动" aria-label="Permalink to &quot;卸载驱动&quot;">​</a></h3><ol><li>正常退出程序驱动会自动卸载</li><li><ul><li>如果卸载失败，请使用以下命令行：</li></ul><div class="language-cmd vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sc stop lykeys</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lykeys</span></span></code></pre></div><ul><li>执行快捷命令（如果lykeys 服务存在，则立刻停止并删除驱动服务）</li></ul><div class="language-cmd vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@echo off </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sc query lykeys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nul </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (echo Service </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exists</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stopping... </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sc stop lykeys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nul </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> timeout /t </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /nobreak </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nul </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lykeys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nul </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> echo Service deleted successfully </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> exit) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (echo Service does </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> exist </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> exit)</span></span></code></pre></div></li></ol><h2 id="系统兼容性" tabindex="-1">系统兼容性 <a class="header-anchor" href="#系统兼容性" aria-label="Permalink to &quot;系统兼容性&quot;">​</a></h2><h3 id="支持的windows版本" tabindex="-1">支持的Windows版本 <a class="header-anchor" href="#支持的windows版本" aria-label="Permalink to &quot;支持的Windows版本&quot;">​</a></h3><ul><li>Windows 10（所有版本）</li><li>Windows 11（所有版本）</li></ul><h3 id="系统兼容性检查" tabindex="-1">系统兼容性检查 <a class="header-anchor" href="#系统兼容性检查" aria-label="Permalink to &quot;系统兼容性检查&quot;">​</a></h3><p>驱动包含自动系统兼容性检查功能，会在加载驱动时验证以下内容：</p><ul><li>操作系统版本兼容性</li><li>32位/64位兼容性</li><li>必要系统服务可用性</li><li>设备接口可访问性</li></ul><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to &quot;参考资料&quot;">​</a></h2><ul><li><a href="https://github.com/BestBurning/kmclassdll/releases" target="_blank" rel="noreferrer">kmclassdll.dll</a> - DLL动态库</li><li><a href="https://github.com/BestBurning/kmclass/releases" target="_blank" rel="noreferrer">kmclass.sys</a> - 内核驱动</li><li>如何编译可参考 <a href="https://di1shuai.com/%E7%BC%96%E8%AF%91dll%E5%B9%B6%E5%9C%A8python%E4%B8%AD%E4%BD%BF%E7%94%A8ctypes%E8%B0%83%E7%94%A8.html" target="_blank" rel="noreferrer">编译dll并在python中使用ctypes调用</a></li><li>错误代码 <a href="https://docs.microsoft.com/zh-cn/windows/win32/debug/system-error-codes" target="_blank" rel="noreferrer">Error Codes</a></li><li><a href="https://docs.microsoft.com/zh-cn/windows-hardware/drivers/gettingstarted/writing-a-very-small-kmdf--driver" target="_blank" rel="noreferrer">KMDF Hello World</a></li><li><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/download-the-wdk" target="_blank" rel="noreferrer">WDK 10</a></li></ul><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><h3 id="安全提示" tabindex="-1">安全提示 <a class="header-anchor" href="#安全提示" aria-label="Permalink to &quot;安全提示&quot;">​</a></h3><ul><li>请勿修改驱动文件</li><li>保持驱动签名完整</li><li>关注项目及时获取最新驱动版本</li><li>避免在调试器运行环境下使用</li></ul><h3 id="故障排除" tabindex="-1">故障排除 <a class="header-anchor" href="#故障排除" aria-label="Permalink to &quot;故障排除&quot;">​</a></h3><ul><li>检查驱动状态</li><li>查看详细错误代码</li><li>验证系统兼容性</li><li>按照debug文档排查故障</li></ul>`,29)]))}const E=a(t,[["render",h]]);export{c as __pageData,E as default};
